<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Technique de FOUDEK</title>

<style>
body {
  margin: 0;
  background: #020617;
  color: #e5e7eb;
  font-family: Arial, sans-serif;
}

.container {
  max-width: 900px;
  margin: auto;
  padding: 30px 20px;
}

h1, h2, h3 {
  color: #f8fafc;
}

h1 {
  text-align: center;
  margin-bottom: 40px;
}

.section {
  margin-bottom: 40px;
  padding-bottom: 30px;
  border-bottom: 1px solid #1e293b;
}

.cards {
  display: flex;
  gap: 20px;
  flex-wrap: wrap;
  justify-content: center;
  margin-top: 30px;
}

.card {
  background: #020617;
  border: 1px solid #1e293b;
  border-radius: 14px;
  padding: 20px;
  width: 300px;
}

.card.blue {
  box-shadow: 0 0 15px rgba(37, 99, 235, 0.25);
}

.card.red {
  box-shadow: 0 0 15px rgba(220, 38, 38, 0.25);
}

label {
  display: block;
  margin-top: 12px;
  font-size: 14px;
}

input {
  width: 100%;
  margin-top: 6px;
  padding: 8px;
  background: #020617;
  border: 1px solid #334155;
  border-radius: 6px;
  color: #e5e7eb;
}

button {
  width: 100%;
  margin-top: 16px;
  padding: 10px;
  border: none;
  border-radius: 6px;
  background: #2563eb;
  color: white;
  font-weight: bold;
  cursor: pointer;
}

.result {
  margin-top: 15px;
  padding: 10px;
  border-radius: 999px;
  text-align: center;
  font-weight: bold;
  opacity: 0.3;
  transition: opacity 0.3s, box-shadow 0.3s;
}

.result.blue {
  background: #1d4ed8;
}

.result.red {
  background: #dc2626;
}

.result.active {
  opacity: 1;
  box-shadow: 0 0 20px rgba(255,255,255,0.2);
}

.math {
  background: #020617;
  border: 1px solid #1e293b;
  border-radius: 10px;
  padding: 15px;
  margin: 15px 0;
  font-family: "Courier New", monospace;
  color: #f8fafc;
  overflow-x: auto;
}
</style>
</head>

<body>
<div class="container">

<h1>ProbabilitÃ© de voter un loup hors intervalle</h1>

<div class="section">
<h2>Cours â€“ Technique de FOUDEK</h2>

<p>
La technique de FOUDEK repose sur un principe optimiste :
un joueur innocent raisonne toujours en cherchant Ã  minimiser la probabilitÃ©
de voter un autre innocent.
</p>

<p>
Dans ce cadre, la probabilitÃ© quâ€™un joueur innocent vote un loup
est naturellement plus faible que la probabilitÃ© de voter un innocent.
</p>

<p>
Le jeu est alors structurÃ© en intervalles de vote.
Ã€ partir des Ã©vÃ©nements observÃ©s (votes, morts, rÃ©actions),
on construit des intervalles contenant un nombre volontairement limitÃ© de loups.
</p>
</div>

<div class="section">
<h2>Pourquoi il nâ€™y a jamais plus de 1 loup sur 4</h2>

<p>
Dans la technique de FOUDEK, on ne considÃ¨re que les intervalles de 4 joueurs
contenant 0 ou 1 loup.
</p>

<p>
Si un intervalle contenait 2 loups sur 4, alors la probabilitÃ©
quâ€™un joueur innocent vote un innocent deviendrait strictement supÃ©rieure
Ã  la probabilitÃ© de voter un loup.
</p>

<p>
DÃ©passer 1/4 rend donc la dÃ©cision irrationnelle pour un joueur innocent.
Ces configurations sont exclues par construction dans la technique de FOUDEK.
</p>
</div>

<div class="section">
<h2>DÃ©tail du calcul de la probabilitÃ© hors intervalle</h2>

<p>On note :</p>
<ul>
  <li><strong>I</strong> : nombre de joueurs dans lâ€™intervalle</li>
  <li><strong>R</strong> : nombre de joueurs hors intervalle</li>
  <li><strong>L</strong> : nombre de loups vivants</li>
  <li><strong>k</strong> : nombre de loups dans lâ€™intervalle</li>
</ul>

<p>
Pour chaque valeur admissible de <em>k</em>,
on compte le nombre de configurations possibles :
</p>

<div class="math">
C(I, k) Ã— C(R, L âˆ’ k)
</div>

<p>
Ces configurations sont normalisÃ©es,
puis pondÃ©rÃ©es par la probabilitÃ© quâ€™un joueur hors intervalle soit loup :
</p>

<div class="math">
(L âˆ’ k) / R
</div>
</div>

<div class="section">
<h2>Ã‰quation universelle finale</h2>

<div class="math">
P<sub>R</sub> =
âˆ‘<sub>k=0</sub><sup>k<sub>max</sub></sup>
(
C(|I|, k) Â· C(|R|, L âˆ’ k)
/
âˆ‘<sub>i=0</sub><sup>k<sub>max</sub></sup>
C(|I|, i) Â· C(|R|, L âˆ’ i)
)
Ã—
(L âˆ’ k) / |R|
</div>
</div>

<div class="section">
<h2>Calculs</h2>

<div class="cards">

<div class="card blue">
<h3>ðŸ”µ MÃ©thode FOUDEK</h3>
<label>Joueurs dans lâ€™intervalle</label>
<input id="I1" type="number">
<label>Joueurs hors intervalle</label>
<input id="R1" type="number">
<label>Loups vivants</label>
<input id="L1" type="number">
<button onclick="calcFoudek()">Calculer</button>
<div id="resF" class="result blue">â€”</div>
</div>

<div class="card red">
<h3>ðŸ”´ MÃ©thode classique</h3>
<label>Joueurs dans lâ€™intervalle</label>
<input id="I2" type="number">
<label>Joueurs hors intervalle</label>
<input id="R2" type="number">
<label>Loups vivants</label>
<input id="L2" type="number">
<button onclick="calcClassic()">Calculer</button>
<div id="resC" class="result red">â€”</div>
</div>

</div>
</div>

</div>

<script>
function calcFoudek() {
  const I = +I1.value;
  const R = +R1.value;
  const L = +L1.value;

  const p = Math.min(1/4, L / (I + R)) * 100;

  resF.textContent = p.toFixed(1) + " %";
  resF.classList.add("active");
}

function calcClassic() {
  const I = +I2.value;
  const R = +R2.value;
  const L = +L2.value;

  const p = (L / (I + R)) * 100;

  resC.textContent = p.toFixed(1) + " %";
  resC.classList.add("active");
}
</script>

</body>
</html>